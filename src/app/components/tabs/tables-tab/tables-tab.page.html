<ion-content [fullscreen]="true">
  <!-- <app-explore-container name="Tab 1 page"></app-explore-container> -->
  <ion-title>Tavoli aperti</ion-title>

  <ion-list>
    <ion-item *ngFor="let table of tables">

      <ion-card>
        <img alt="Foto del locale" [src]="table?.images?.[0]" />
        <ion-card-header>
          <ion-card-title>{{ table.name + ' - ' + table.location }}</ion-card-title>
          <ion-card-subtitle>{{ table.address + ' - ' + (table.time | date) }}</ion-card-subtitle>
        </ion-card-header>

          <ion-card-content>
            {{ table.description }}
          </ion-card-content>

          <div class="card-footer">
            <div>{{ table.participants + '/' + table.totalSeats}}</div>

            <ion-button 
              [disabled]="table.participants === table.totalSeats"
              fill="outline"
              (click)="joinTable(table)"
              > Partecipa
            </ion-button>
          </div>

      </ion-card>

    </ion-item>
  </ion-list>

  <ion-infinite-scroll (ionInfinite)="loadMoreTables($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Caricando altri tavoli...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>
